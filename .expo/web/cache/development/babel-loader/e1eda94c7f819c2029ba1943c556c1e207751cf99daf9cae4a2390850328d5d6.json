{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nimport { useState, useEffect } from 'react';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nvar STORAGE_KEY = '@custom_services';\nexport var useCustomServices = function useCustomServices() {\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    customServices = _useState2[0],\n    setCustomServices = _useState2[1];\n  var _useState3 = useState(true),\n    _useState4 = _slicedToArray(_useState3, 2),\n    loading = _useState4[0],\n    setLoading = _useState4[1];\n  useEffect(function () {\n    loadServices();\n  }, []);\n  var loadServices = function () {\n    var _ref = _asyncToGenerator(function* () {\n      try {\n        var jsonValue = yield AsyncStorage.getItem(STORAGE_KEY);\n        if (jsonValue != null) {\n          setCustomServices(JSON.parse(jsonValue));\n        }\n      } catch (e) {\n        console.error(\"Failed to load custom services\", e);\n      } finally {\n        setLoading(false);\n      }\n    });\n    return function loadServices() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n  var saveServices = function () {\n    var _ref2 = _asyncToGenerator(function* (services) {\n      try {\n        var jsonValue = JSON.stringify(services);\n        yield AsyncStorage.setItem(STORAGE_KEY, jsonValue);\n        setCustomServices(services);\n      } catch (e) {\n        console.error(\"Failed to save custom services\", e);\n      }\n    });\n    return function saveServices(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  var addService = function () {\n    var _ref3 = _asyncToGenerator(function* (service) {\n      var newService = _objectSpread(_objectSpread({}, service), {}, {\n        id: Date.now().toString(),\n        category: 'custom',\n        logo: service.logo || 'ðŸ‘¤'\n      });\n      var updatedServices = [].concat(_toConsumableArray(customServices), [newService]);\n      yield saveServices(updatedServices);\n    });\n    return function addService(_x2) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n  var updateService = function () {\n    var _ref4 = _asyncToGenerator(function* (updatedService) {\n      var updatedServices = customServices.map(function (s) {\n        return s.id === updatedService.id ? updatedService : s;\n      });\n      yield saveServices(updatedServices);\n    });\n    return function updateService(_x3) {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n  var deleteService = function () {\n    var _ref5 = _asyncToGenerator(function* (id) {\n      var updatedServices = customServices.filter(function (s) {\n        return s.id !== id;\n      });\n      yield saveServices(updatedServices);\n    });\n    return function deleteService(_x4) {\n      return _ref5.apply(this, arguments);\n    };\n  }();\n  return {\n    customServices: customServices,\n    loading: loading,\n    addService: addService,\n    updateService: updateService,\n    deleteService: deleteService,\n    refresh: loadServices\n  };\n};","map":{"version":3,"names":["useState","useEffect","AsyncStorage","STORAGE_KEY","useCustomServices","_useState","_useState2","_slicedToArray","customServices","setCustomServices","_useState3","_useState4","loading","setLoading","loadServices","_ref","_asyncToGenerator","jsonValue","getItem","JSON","parse","e","console","error","apply","arguments","saveServices","_ref2","services","stringify","setItem","_x","addService","_ref3","service","newService","_objectSpread","id","Date","now","toString","category","logo","updatedServices","concat","_toConsumableArray","_x2","updateService","_ref4","updatedService","map","s","_x3","deleteService","_ref5","filter","_x4","refresh"],"sources":["C:/Users/Rasheed/Desktop/UI Design (5)/rn/src/hooks/useCustomServices.ts"],"sourcesContent":["import { useState, useEffect } from 'react';\r\nimport AsyncStorage from '@react-native-async-storage/async-storage';\r\nimport { SearchableService } from '../data/services-data';\r\n\r\nconst STORAGE_KEY = '@custom_services';\r\n\r\nexport const useCustomServices = () => {\r\n  const [customServices, setCustomServices] = useState<SearchableService[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    loadServices();\r\n  }, []);\r\n\r\n  const loadServices = async () => {\r\n    try {\r\n      const jsonValue = await AsyncStorage.getItem(STORAGE_KEY);\r\n      if (jsonValue != null) {\r\n        setCustomServices(JSON.parse(jsonValue));\r\n      }\r\n    } catch (e) {\r\n      console.error(\"Failed to load custom services\", e);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const saveServices = async (services: SearchableService[]) => {\r\n    try {\r\n      const jsonValue = JSON.stringify(services);\r\n      await AsyncStorage.setItem(STORAGE_KEY, jsonValue);\r\n      setCustomServices(services);\r\n    } catch (e) {\r\n      console.error(\"Failed to save custom services\", e);\r\n    }\r\n  };\r\n\r\n  const addService = async (service: Omit<SearchableService, 'category' | 'logo'> & { logo?: string }) => {\r\n    const newService: SearchableService = {\r\n      ...service,\r\n      id: Date.now().toString(),\r\n      category: 'custom',\r\n      logo: service.logo || 'ðŸ‘¤', // Default logo for custom services\r\n    };\r\n    const updatedServices = [...customServices, newService];\r\n    await saveServices(updatedServices);\r\n  };\r\n\r\n  const updateService = async (updatedService: SearchableService) => {\r\n    const updatedServices = customServices.map((s) =>\r\n      s.id === updatedService.id ? updatedService : s\r\n    );\r\n    await saveServices(updatedServices);\r\n  };\r\n\r\n  const deleteService = async (id: string) => {\r\n    const updatedServices = customServices.filter((s) => s.id !== id);\r\n    await saveServices(updatedServices);\r\n  };\r\n\r\n  return {\r\n    customServices,\r\n    loading,\r\n    addService,\r\n    updateService,\r\n    deleteService,\r\n    refresh: loadServices\r\n  };\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}